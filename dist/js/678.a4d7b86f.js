"use strict";(self["webpackChunktoutiao_lianxi"]=self["webpackChunktoutiao_lianxi"]||[]).push([[678],{8678:function(e,t,r){r.r(t),r.d(t,{default:function(){return c}});var i=function(){var e=this,t=e._self._c;return t("div",[t("van-nav-bar",{attrs:{title:"登录"}}),t("van-form",{on:{submit:e.onSubmit}},[t("van-field",{attrs:{name:"mobile",label:"手机号",placeholder:"请输入手机号",rules:e.rules.mobile},model:{value:e.mobile,callback:function(t){e.mobile=t},expression:"mobile"}}),t("van-field",{attrs:{name:"code",label:"验证码",placeholder:"请输入验证码",rules:e.rules.code},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),t("div",{staticStyle:{margin:"16px"}},[t("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit",loading:e.isTrue,"loading-text":"登录中..."}},[e._v("提交")])],1)],1)],1)},a=[],o=r(2746),s={data(){return{mobile:"",code:"",rules:{mobile:[{required:!0,message:"请输入手机号",trigger:"onBulr"},{pattern:/^(0|86|17951)?(13[0-9]|15[012356789]|166|17[3678]|18[0-9]|14[57])[0-9]{8}$/,required:!0,message:"请输入正确的手机号",trigger:"onBulr"}],code:[{required:!0,message:"请输入验证码",trigger:"onBulr"},{pattern:/^\d{6}$/,required:!0,message:"请输入六位验证码",trigger:"onBulr"}]},isTrue:!1}},methods:{async onSubmit(e){this.isTrue=!0;try{const t=await(0,o.UO)(e);this.$store.commit("setToken",t.data.data),this.$toast.success("登录成功");const r=this.$route.query.url;r?this.$router.push(r):this.$router.push("/layout/home")}catch{this.$toast.fail("登录失败")}finally{this.isTrue=!1}}}},l=s,u=r(1001),n=(0,u.Z)(l,i,a,!1,null,null,null),c=n.exports}}]);